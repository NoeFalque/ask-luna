"use strict";var upvote_buttons=document.querySelectorAll(".comment-upvote"),downvote_buttons=document.querySelectorAll(".comment-downvote"),misunderstand_buttons=document.querySelectorAll(".comment-misunderstand"),comment_buttons=document.querySelectorAll(".comment-comment");upvote_buttons.forEach(function(e){e.addEventListener("click",function(t){t.preventDefault();var n=e.parentNode.getAttribute("data-id"),o=new XMLHttpRequest;o.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var t=this.responseText;"Not connected"==t?window.location.replace("/login"):isNaN(parseInt(t))?(console.log(t),alert("A problem occured, please try again.")):e.parentNode.querySelector(".comment-score").innerHTML=this.responseText}},o.open("GET","/api/upvote/comments/"+n,!0),o.send()})}),downvote_buttons.forEach(function(e){e.addEventListener("click",function(t){t.preventDefault();var n=e.parentNode.getAttribute("data-id"),o=new XMLHttpRequest;o.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var t=this.responseText;"Not connected"==t?window.location.replace("/login"):isNaN(parseInt(t))?alert("A problem occured, please try again."):e.parentNode.querySelector(".comment-score").innerHTML=this.responseText}},o.open("GET","/api/downvote/comments/"+n,!0),o.send()})}),misunderstand_buttons.forEach(function(e){e.addEventListener("click",function(t){t.preventDefault();var n=e.parentNode.getAttribute("data-id"),o=new XMLHttpRequest;o.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=this.responseText;"Not connected"==e?window.location.replace("/login"):"ok"!=e&&alert("A problem occured, please try again.")}},o.open("GET","/api/misunderstand/comments/"+n,!0),o.send()})}),comment_buttons.forEach(function(e){e.addEventListener("click",function(t){t.preventDefault();var n=e.parentNode,o=n.getAttribute("data-id");if(n.classList.contains("comment-reply-open"))n.classList.remove("comment-reply-open"),n.nextSibling.remove();else{n.classList.add("comment-reply-open");var a=document.createElement("div");a.classList.add("comment-reply-form"),a.innerHTML='\n                <div class="col-md-12">\n                    <form action="#" method="POST">\n                        <div class="form-group">\n                            <label for="answer">Help answering this question</label>\n                            <textarea name="answer" id="answer" class="form-control comment-reply-textarea" required autofocus></textarea>\n                            <input type="hidden" name="parent_id" value="'+o+'">\n                        </div>\n\n                        <div class="form-group">\n                            <button type="submit" class="btn btn-primary">Send my answer</button>\n                        </div>\n                    </form>\n                </div>\n            ',n.parentNode.insertBefore(a,n.nextSibling)}})});