"use strict";var upvote_buttons=document.querySelectorAll(".comment-upvote"),downvote_buttons=document.querySelectorAll(".comment-downvote"),comment_buttons=document.querySelectorAll(".comment-comment");upvote_buttons.forEach(function(e){e.addEventListener("click",function(t){t.preventDefault();var n=e.getAttribute("data-id"),o=new XMLHttpRequest;o.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var t=this.responseText;"Not connected"==t?window.location.replace("/login"):isNaN(parseInt(t))?(console.log(t),alert("A problem occured, please try again.")):e.parentNode.querySelector(".comment-score").innerHTML=this.responseText}},o.open("GET","/api/upvote/comments/"+n,!0),o.send()})}),downvote_buttons.forEach(function(e){e.addEventListener("click",function(t){t.preventDefault();var n=e.getAttribute("data-id"),o=new XMLHttpRequest;o.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var t=this.responseText;"Not connected"==t?window.location.replace("/login"):isNaN(parseInt(t))?alert("A problem occured, please try again."):e.parentNode.querySelector(".comment-score").innerHTML=this.responseText}},o.open("GET","/api/downvote/comments/"+n,!0),o.send()})}),comment_buttons.forEach(function(e){e.addEventListener("click",function(t){t.preventDefault();var n=e.parentNode,o=e.getAttribute("data-id");if(n=n.parentNode.parentNode,n.classList.contains("comment-reply-open"))n.classList.remove("comment-reply-open"),n.nextSibling.remove();else{n.classList.add("comment-reply-open");var r=document.createElement("div");r.classList.add("comment-reply-form"),r.innerHTML='\n                <form action="#" method="POST">\n                    <input type="text" name="answer" id="answer" class="form-control comment-reply-textarea" required autofocus>\n                    <input type="hidden" name="parent_id" value="'+o+'">\n                    <button type="submit" class="btn btn-primary">Send</button>\n                </form>\n            ',n.parentNode.insertBefore(r,n.nextSibling)}})});